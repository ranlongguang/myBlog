{% extends "layout.html" %}
{% block content %}
	{% for content in contents  %}
	<div class="listBox">
		<h1>{{content.title}}</h1>
		<p class="colDefault">
			作者： <span class="colInfo">{{content.user.username}}</span> -
			时间： <span class="colInfo">{{content.addTime.toString()|date("Y年m月d日 H:i:s",-8*60)}}</span> -
			阅读： <span class="colInfo">{{content.views}}</span> -
			评论： <span class="colInfo">{{content.comments.length}}</span>
		</p>
		<p>{{content.description}}</p>
		<div class="function"><a href="/view?contentid={{content.id}}">阅读全文</a></div>
	</div>
	{% endfor %}
	
	<div class="pager">
		<ul class="clear">
			
			{% if page<=1 %}
			<li class="previous disabled"><span style="color: gray;">没有上一页了</span></li>
			{% else %}
			<li class="previous"><a href="/?category={{categoryId}}&page={{page-1}}">上一页</a></li>
			{% endif %}
			
			<li><strong>{{page}} / {{pageTotal}}</strong></li>
			
			{% if page>=pageTotal %}
			<li class="next disabled"><span style="color: gray;">没有下一页了</span></li>
			{% else %}
			<li class="next"><a href="/?category={{categoryId}}&page={{page+1}}">下一页</a></li>
			{% endif %}
		</ul>
	</div>
{% endblock %}
